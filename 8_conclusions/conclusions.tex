\chapter{Conclusions and Future work}
\label{chap:conc}

\epigraph{The terms "data cleaning" and "data pre-processing" should be removed}{\textit{An Anonymous Data Engineer}}

This thesis presents several contributions to the state of the art to address research objectives in the area of knowledge graph construction using declarative mapping languages. The contributions and identified future lines of work are summarized below.


\section{Achievements}
Constructing knowledge graphs from heterogeneous data sources is a complex data integration problem. Open research problems addressed in this thesis are: (i) the generation and interoperability of different mapping rules specifications to facilitate to users the KGC process, (ii) the creation of representative evaluation methods to provide an overview of the state of the art on the KGC engines and to understand their current limitations, (iii) as well as optimizations techniques to scale up the construction of virtual and materialized KGs. 
 
 
The first objective of this thesis has been focused on defining \textbf{representative features of knowledge graph construction systems}. In Chapter \ref{chapter:mappig-translation}, the \textit{mapping translation} concept is defined, adding a new layer into the KGC workflow. As we demonstrate with several use cases, exploiting the benefits of making different mapping languages specifications interoperable can enhance several steps of this process. Different use cases have shown the benefits of this novel approach on different domains such as statistics, transportation and biomedicine. Moreover, the ideas around this concept are also used over the different optimizations shown in Chapter \ref{chapter:virtual} and Chapter \ref{chapter:construction}.

The \textbf{exploitation of mapping rules to enhance the construction of virtual and materialized knowledge graphs} techniques is one of the main contributions of this thesis. To the best of our knowledge, the mapping-driven optimization techniques proposed in this work are the first ones that put the focus and exploit information from the semantic annotations. The heuristic based approaches proposed by Morph-CSV (Section \ref{chap6_morphgcsv}) and FunMap (Section \ref{chap7_funmap}) empirically demonstrate over several benchmarks and use cases the importance of declarative annotations in a KGC process to efficiently deal with the heterogeneity of input data sources in the current web of data. Additionally, Morph-GraphQL (Section \ref{chap6_morphgraphql}) emphasizes the necessity of semantic web technologies, and more specifically, the mapping rules, for avoiding data silos where non-semantic web approaches (e.g., GraphQL, API Rest, etc) are used to expose data on the web. Finally, SDM-RDFizer (Section \ref{chap7_rdfizer}) reveals the importance of well designed physical data structures and their corresponding operators to scale-up the construction of knowledge graphs. In summary, we have identified the limitations of the proposals of the state of the art together with their open problems and we tackle them from a research perspective, highlighting that engineering solutions are not enough to solve complex data integration problems for constructing knowledge graphs. As the focus of each proposal is different, we need to use different testbeds and benchmarks to evaluate our hypotheses. Table \ref{tab:experimental-evals} summarizes the experimental evaluations carried out in this thesis, detailing the features and objectives of each one, and justifying the necessity of using different datasets and benchmarks.

To accomplish the second objective of this thesis, described as \textbf{representative evaluation systems for knowledge graph construction engines from heterogeneous data sources}, we present three different contributions. First, we analyze and extend the test cases presented for RDB2RDF engines to cover heterogeneous data sources, using RML as mapping language. In this manner, we can provide an overview of the compliance of the engines over this mapping language, which helps users and practitioners to select a specific engine for their use cases. Second, we select and analyze the parameters that can impact  the performance and completeness of KGC engines. Our ambition is that the reported results of this contribution inspire the community to define general testbeds that facilitate the understanding of the state of the art, and the development of novel tools for constructing knowledge graphs at a large scale. Following this ambition, we define  GTFS-Madrid-Bench, a benchmark for (virtual) KGC engines over the transport domain. Integrating the parameters defined in our previous work and defining a set of representative SPARQL queries, we propose the first benchmark that contributes to evaluate in a representative manner virtual KGC engines from one or multiple data sources and formats. We empirically test our approach over a set of heterogeneous KGC engines and identify multiple and promising future research work lines in this topic. Although the first and second contributions have been tested over materialized KGC engines and the third one over virtual KGC engines, notice that the contributions of this thesis are agnostic to the type of process to be performed, and can be used to test the capabilities of both approaches, as we have already demonstrated in a recent publication~\citep{arenas2021knowledge}.


% Please add the following required packages to your document preamble:
% \usepackage{graphicx}
\begin{table}[t]
\centering
\caption{Summary of experimental evaluations}
\label{tab:experimental-evals}
\resizebox{\textwidth}{!}{%
\begin{tabular}{l|l|l|l|l}
\multicolumn{1}{c|}{\textbf{Proposal}} &
  \multicolumn{1}{c|}{\textbf{Benchmarking(s)}} &
  \multicolumn{1}{c|}{\textbf{Testing Objective}} &
  \multicolumn{1}{c|}{\textbf{Testing Domain}} &
  \multicolumn{1}{c}{\textbf{Testing Features}} \\ \hline
Morph-CSV &
  \begin{tabular}[c]{@{}l@{}}Madrid-GTFS-Bench\\ BSBM\end{tabular} &
  \begin{tabular}[c]{@{}l@{}}Tabular Constraints\\ on virtual KG construction\end{tabular} &
  \begin{tabular}[c]{@{}l@{}}Transportation\\ E-Commerce\end{tabular} &
  \begin{tabular}[c]{@{}l@{}}- 1-1 relation between\\ ontology concepts and sources\\ - Synthetic data generator\end{tabular} \\ \hline
Morph-GraphQL &
  Link√∂ping GraphQL Benchmark &
  GraphQL-to-SQL translation &
  E-Commmerce &
  \begin{tabular}[c]{@{}l@{}}- 1-1 relation between\\ ontology concepts and sources\\ - Synthetic data generator\end{tabular} \\ \hline
SDM-RDFizer &
  COSMIC Dataset &
  \begin{tabular}[c]{@{}l@{}}Duplicates Removal + \\ Join Conditions\end{tabular} &
  Biomedicine &
  \begin{tabular}[c]{@{}l@{}}- N-1 relation between\\ ontology concepts and sources\\ - Manual testbed generator\end{tabular} \\ \hline
FunMap &
  \begin{tabular}[c]{@{}l@{}}COSMIC Dataset + \\ Transformation Functions\end{tabular} &
  \begin{tabular}[c]{@{}l@{}}Duplicates Removal + \\ Function Execution\end{tabular} &
  Biomedicine &
  \begin{tabular}[c]{@{}l@{}}- N-1 relation between\\ ontology concepts and sources\\ - Manual testbed generator\\ - Simple and Complex functions\end{tabular} \\ 
\end{tabular}%
}
\end{table}


From a more general perspective, the main conclusions of the thesis are summarized as:
\begin{itemize}
    \item \textbf{Heterogeneity over mapping specifications is a benefit, not a problem.} The KGC community\footnote{\url{https://www.w3.org/community/kg-construct/}} should see the variety of mapping languages not only as challenges (e.g., interoperability) but also, and mainly, as an opportunity for further research and development in this area, to address the need to cover more types of data sources and their intrinsic features, while taking advantage of all the work that has been done in advanced aspects like query translation over relational databases. The role of declarative constraints and its standardization (e.g., CSVW for metadata annotations) will be essential in the next generation of KGC approaches.
    \item \textbf{Pre-processing and data cleaning steps need more attention.} Pre-processing and data preparation or cleaning should stop to be seen as trivial or not important tasks in any computer science field that involves data. Reproducible steps relying on declarative specifications together with their corresponding optimizations techniques, as we have demonstrated in this thesis, can help, not only to a more efficient and maintainable construction of KGs, but also to any other data structure used for integrating sources.
    \item \textbf{Scalability is still an issue in KG construction.} The integration into knowledge graphs of the available myriad of data, demands scalability solutions and optimization approaches that ensure a global adoption of semantic web and graph technologies in industry and academic real use cases. Despite the three contributions presented in this thesis for scalable construction of virtual and materialized knowledge graphs, more research is needed to provide robust techniques that can be transferred to develop strong industry solutions.
    \item \textbf{Virtual KG construction approaches are immature.} There are still relevant open issues, such as SPARQL conformance, semantic preservation in the translation from SPARQL queries to the query languages used to query raw data (CSV, JSON, XML), and the application of query optimization techniques. There are many open research problems in this topic due to the fact that it involves heterogeneous and different steps such as federated query processing, efficient query plan distribution, query translation and execution over different data formats, etc. Additionally to a comprehensive framework for evaluating the current status of these approaches, we have demonstrated that the analysis of the intrinsic features over a specific data format can help in proposing new techniques to enhance performance and completeness of current approaches. 
\end{itemize}


\section{Future Work}
In this section we describe those research problems that were not tackled during this thesis, due to time-permitting issues, or that were appearing as continuation of the proposed solutions in this work.

Aligned with the vision of the future generation of knowledge graph construction systems, \textbf{we think that the mapping translation concept needs to be explored further, and this would allow a new range of KGC approaches that may be part of a new generation}. In our opinion, the KGC community should see this variety of mapping languages not only as challenges (e.g., interoperability) but also, and mainly, as an opportunity for further research and development in this area, to address the need to cover more types of data sources while taking advantage of all the work that has been done in advanced aspects like query translation. 

Providing mapping translator services across mapping languages would bring further benefits and increase the availability of ontology-based data for its exploitation by search engines and query answering systems at Web scale. Additionally, \textbf{the definition of a unifying conceptual model describing the concepts of different mapping languages using the same vocabulary} can be one of the first points to provide such translation services across different specifications. Finally, the analysis of \textbf{the role of users in the process of constructing knowledge graphs will be essential to develop robust and useful solutions} in complex data integration environments.

One of the main future lines we have identified during this thesis, extending the contributions on the enhancement of KGC systems, \textbf{is to define methods and techniques for an optimal physical design of knowledge graphs.} The main idea is to be able to decide which parts of a KG have to be materialized or virtualized analyzing the features of the typical inputs of a KGC process (data, constraints, mapping rules, ontology, queries). We believe that these methodologies will help to start to see the web as an integrated database that can be queried using Semantic Web technologies. The application of the optimizations techniques proposed in this thesis over distributed environments, similar to the ones proposed in \citep{endris2019ontario,mami2019squerall}, leverage the use of declarative KGC techniques to their next steps, providing the basis for developing real-world knowledge graph applications.

For the \textbf{evaluation systems, we need to extend the current proposals in order to be more flexible in the evaluation of KGC engines}, i.e., taking into account all the parameters that can have an impact in their behavior. Some examples of these possible future lines are: the inclusion of mapping rules with transformation functions, the adaption of real mapping rules to isolated parameters for testing their impact in performance and scalability (e.g., mapping with or without join conditions), or the improvement in creation of datasets at scale, exploiting the information from mapping rules or graph constraints (e.g, SHACL shapes). Finally, it is important to create evaluation systems that include a ground truth in order to test not only the performance and scalability of the engines but also other important features such as correctness and completeness.

The use of declarative and standard mapping rules and metadata descriptions make possible the generalization of KGC engines and optimizations, avoiding ad-hoc and manual steps. It also incorporates a set of important benefits for these processes such as the improvement of its maintainability, readability, and understandability. We believe that this kind of solutions should be promoted in academic, industrial and public organizations as good practices for data management and data governance on the web. Our vision is that, \textbf{analyzing the role of the users in complex data integration environments on the web, will help to understand how to promote and develop robust and useful semantic web solutions for constructing knowledge graphs at scale in distributing scenarios.}

Finally, it is also important to mention that while working in this thesis, two relevant events have led to leverage the topic of knowledge graph construction to a relevant position in the semantic web community. The first is holding the international workshop series on Knowledge Graph Construction\footnote{\url{https://w3id.org/kg-construct/workshop}}, with its first edition co-located with ESWC2019 (with more than 70 participants) and its second edition with ESWC2021. The second is the kick-off and co-chairing of the W3C community group on Knowledge Graph Construction\footnote{\url{https://w3id.org/kg-construct}}, where more than 120 participants are, at the moment of writing this dissertation, discussing the next generation of mapping specifications, engines, optimizations, test-cases, and benchmarks. 